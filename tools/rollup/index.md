---
title: "Rollup"
description: ""
authors:
  - bellabzhu
related:
  - tools/webpack
  - tools/bundlers
tags:
  - article
reywords:
  - сборщик javascript
---

## Кратко

[`Rollup`](https://rollupjs.org/guide/en) это [`сборщик проекта`](/tools/bundlers/) для JavaScript. Он менее популярный, чем [`Webpack`](/tools/webpack/), но имеет свои преимущества.

## Установка
Для установки требуется [`Node.js`](/tools/nodejs/) версией v8.0.0 или выше. Установить через __[`npm`](/tools/package-managers/)__ нужно командой в консоли:

```bash
npm install --global rollup
```

`--global` делает установку глобальной, это значит, что команды `Rollup` доступны из любой папки проекта.

## Как пользоваться

Пользоваться сборщиком можно из командной строки или через [JavaScript API](https://rollupjs.org/guide/en/#javascript-api). Последний нужен крайне редко и разработчики рекомендуют использовать именно первый вариант.

Посмотреть список команд:

```bash
rollup --help 
```

Запустить сборщик и собрать бандл:

```bash
# main.js - входная точка вашего проекта;
# bundle.js - имя будущего бандла;
# скомпилируется в <script>, содержащий самозапускающуюся функцию ('iife');
rollup main.js --file bundle.js --format iife
```

## Как настроить

Для настройки сборки нужно создать файл rollup.config.js в корне проекта. Пропишем в нем базовую настройку:

```js
export default {
  input: 'src/main.js',
  output: {
    file: 'bundle.js',
    format: 'cjs'
  }
};
```

Для использования запустим команду:

```bash
rollup -c
```

## Особенности

  - пересобирает бандл в реальном времени при изменении кода;
  - проверяет синтаксис и форматирование кода;
  - может сделать из одного проекта несколько бандлов: для ES6, ES5 для старых браузеров, версию для Node.js;
  - убирает пробелы в коде для уменьшения веса файлов;
  - поддерживает плагины;
  - удаляет неиспользуемые функции и импорты;
  - использует разделение кода;

### Tree Shaking

Есть поддержка [`Tree Shaking`](https://en.wikipedia.org/wiki/Tree_shaking) - метода оптимизации, при котором удаляется весь неиспользуемый код. Когда приложение разрастается до приличных размеров, то выявлять вручную "мертвые" строки становится сложно. Tree Shaking избавляет от этой проблемы.

### Разделение кода

Когда сборщик собрал большой проект в единый файл, может возникнуть проблема с долгой загрузкой. В таких случаях `Rollup` использует разделение кода [_(code splitting)_](https://developer.mozilla.org/en-US/docs/Glossary/Code_splitting). Это значит, что код будет подгружаться постепенно и именно тот, который нужен сейчас пользователю.
